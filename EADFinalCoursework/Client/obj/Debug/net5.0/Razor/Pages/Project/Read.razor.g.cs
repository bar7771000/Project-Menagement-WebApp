#pragma checksum "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "2ff314d69aaea06a765f7b431c9fe97e99726b1c"
// <auto-generated/>
#pragma warning disable 1591
namespace EADFinalCoursework.Client.Pages.Project
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using System.Net.Http.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using Microsoft.AspNetCore.Components.WebAssembly.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using EADFinalCoursework.Client;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using EADFinalCoursework.Client.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 11 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using EADFinalCoursework.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\_Imports.razor"
using System.ComponentModel.DataAnnotations;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/Projects/details/{Id:guid}")]
    public partial class Read : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.AddMarkupContent(0, @"<style>
    .lightgray{
        color:dimgray;
    }
    .group-list{
        border-bottom: 1px solid gray;
        border-radius: 5px;
        margin: 5px;
        padding:5px;
        list-style:none;
        display:flex;
        flex-direction:column;
        align-items:center;
    }
    .darkbackground{
        background-color: bisque;
    }
    .employee-container{
        margin:30px;
        display:flex;
        flex-direction:row;
        align-items:center;
        justify-content:space-around;
    }

    .ticket-container{
        display:flex;
        justify-content:space-around;
        margin-top:80px;
    }
    .update-ticket{
        list-style:none;
    }
    .ul-width{
        display:flex;
        flex-direction:column;
    }
    .individual-ticket {
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:space-around;
        border: 1px solid gray;
        border-radius: 8px;
        width: 200px;
        height:300px;
        padding: auto;
        text-align: center;
    }
    input[type=text] {
        border: none;
        border-bottom: 2px solid red;
        width: 90%;
    }
        input[type=text]:focus {
            border: 1px solid red;
            background-color: pink;

        }
</style>
");
            __builder.OpenElement(1, "div");
            __builder.AddAttribute(2, "class", "d-flex flex-column text-center align-items-center justify-content-around");
            __builder.OpenElement(3, "h2");
            __builder.AddContent(4, 
#nullable restore
#line 67 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
         project.Name

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(5, "\r\n    ");
            __builder.OpenElement(6, "h4");
            __builder.AddContent(7, 
#nullable restore
#line 68 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
         project.Description

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(8, "\r\n    ");
            __builder.OpenElement(9, "h3");
            __builder.AddContent(10, "Id: ");
            __builder.AddContent(11, 
#nullable restore
#line 69 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
             project.Id

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 70 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
     if (employee != null)          
    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(12, "div");
            __builder.AddAttribute(13, "class", "vw-100");
            __builder.AddMarkupContent(14, "<h4>Employees assigned to a project</h4>\r\n            <hr>\r\n            ");
            __builder.OpenElement(15, "div");
            __builder.AddAttribute(16, "class");
            __builder.OpenElement(17, "ul");
            __builder.AddAttribute(18, "class", "employee-container");
#nullable restore
#line 77 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                     foreach (var emp in employee)
                    {
                        

#line default
#line hidden
#nullable disable
#nullable restore
#line 79 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                         if (emp.ProjectId == Id)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(19, "li");
            __builder.AddAttribute(20, "class", "group-list lightgray");
            __builder.OpenElement(21, "h5");
            __builder.AddContent(22, 
#nullable restore
#line 82 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                             emp.FrirstName

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(23, " ");
            __builder.AddContent(24, 
#nullable restore
#line 82 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                                             emp.SurName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(25, "\r\n                        ");
            __builder.AddContent(26, 
#nullable restore
#line 83 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                         emp.PhoneNumber

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(27, " <br>\r\n                        ");
            __builder.AddContent(28, 
#nullable restore
#line 84 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                         emp.Email

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(29, "\r\n                        ");
            __builder.OpenElement(30, "button");
            __builder.AddAttribute(31, "class", "btn btn-danger ");
            __builder.AddAttribute(32, "type", "button");
            __builder.AddAttribute(33, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 85 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                                                                                ()=> DeleteEmployee(emp)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(34, "Ã—");
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 87 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"

                        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 88 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                         

                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(35, "\r\n            <hr>");
            __builder.CloseElement();
#nullable restore
#line 95 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
    }

#line default
#line hidden
#nullable disable
            __builder.OpenElement(36, "div");
            __builder.AddAttribute(37, "class", "col-3  text-center");
            __builder.OpenComponent<Microsoft.AspNetCore.Components.Routing.NavLink>(38);
            __builder.AddAttribute(39, "href", "projects");
            __builder.AddAttribute(40, "class", "btn-light btn m-3 w-50");
            __builder.AddAttribute(41, "ChildContent", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddContent(42, "Back");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(43, "\r\n        ");
            __builder.OpenElement(44, "a");
            __builder.AddAttribute(45, "href", "/Projects/details/" + (
#nullable restore
#line 100 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                                    Id

#line default
#line hidden
#nullable disable
            ) + "/createTicket");
            __builder.AddAttribute(46, "class", "btn btn-info form-control");
            __builder.AddContent(47, "Add Ticket");
            __builder.CloseElement();
            __builder.AddMarkupContent(48, "\r\n        ");
            __builder.OpenElement(49, "button");
            __builder.AddAttribute(50, "type", "button");
            __builder.AddAttribute(51, "class", "btn btn-primary w-75 m-3");
            __builder.AddAttribute(52, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 101 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                                                                         SaveChanges

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(53, "Save Changes");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(54, "   \r\n    \r\n    <hr>\r\n    ");
            __builder.OpenElement(55, "div");
            __builder.AddAttribute(56, "class", "ticket-container ");
#nullable restore
#line 107 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
         if (tickets != null)
        {

            

#line default
#line hidden
#nullable disable
#nullable restore
#line 110 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
             foreach (var ticket in tickets)
            {
                if (Id.Equals(ticket.ProjectId))
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(57, "div");
            __builder.AddAttribute(58, "class", "d-flex justify-content-around");
            __builder.OpenElement(59, "div");
            __builder.AddAttribute(60, "class", "individual-ticket");
            __builder.OpenElement(61, "p");
            __builder.AddAttribute(62, "class", "card-title text-muted");
            __builder.AddContent(63, 
#nullable restore
#line 116 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                                                              ticket.Name

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(64, "\r\n                            ");
            __builder.OpenElement(65, "p");
            __builder.AddAttribute(66, "class", "card-text");
            __builder.AddContent(67, 
#nullable restore
#line 117 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                                                  ticket.Description

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(68, "\r\n                            ");
            __builder.OpenElement(69, "div");
            __builder.AddMarkupContent(70, "<label>Edit</label>\r\n                                ");
            __builder.OpenElement(71, "input");
            __builder.AddAttribute(72, "type", "checkbox");
            __builder.AddAttribute(73, "checked", 
#nullable restore
#line 120 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                                                                                         IsActive?"checked":null

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(74, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 120 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                                                                    IsActive

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(75, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => IsActive = __value, IsActive));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(76, "\r\n                            ");
            __builder.OpenElement(77, "button");
            __builder.AddAttribute(78, "type", "button");
            __builder.AddAttribute(79, "class", "btn btn-danger w-100");
            __builder.AddAttribute(80, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 122 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                                                                                         () => DeleteTicket(ticket)

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(81, "Delete");
            __builder.CloseElement();
#nullable restore
#line 123 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                             if (IsActive)
                            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(82, "ul");
            __builder.AddAttribute(83, "class", "ul-width");
            __builder.OpenElement(84, "li");
            __builder.AddAttribute(85, "class", "update-ticket");
            __builder.OpenElement(86, "input");
            __builder.AddAttribute(87, "type", "text");
            __builder.AddAttribute(88, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 127 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                                                                        ticket.Name

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(89, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => ticket.Name = __value, ticket.Name));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(90, "\r\n\r\n                                    ");
            __builder.OpenElement(91, "li");
            __builder.AddAttribute(92, "class", "update-ticket");
            __builder.OpenElement(93, "input");
            __builder.AddAttribute(94, "type", "text");
            __builder.AddAttribute(95, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 131 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                                                                        ticket.Description

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(96, "oninput", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => ticket.Description = __value, ticket.Description));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 134 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.CloseElement();
#nullable restore
#line 139 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
                }

            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 141 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
             
        }
        else
        {

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(97, "<h3>This Project has no Tickets yet</h3>");
#nullable restore
#line 146 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 151 "C:\Users\bar77\source\repos\EADFinalCoursework\EADFinalCoursework\Client\Pages\Project\Read.razor"
           


        private bool IsActive = false;
        [Parameter]
        public Guid Id { get; set; }

        private Project project { get; set; } = new Project();
        private Ticket[] tickets;
        private Employee[] employee;


        protected override async Task OnInitializedAsync()
        {
            project = await Http.GetFromJsonAsync<Project>($"/api/Projects/{Id}");
            tickets = await Http.GetFromJsonAsync<Ticket[]>("/api/Tickets");
            employee = await Http.GetFromJsonAsync<Employee[]>("/api/Employees");
        }

        private async void DeleteTicket(Ticket ticket)
        {
            await Http.DeleteAsync($"/api/Tickets/{ticket.Id}");
        }

        private async void DeleteEmployee(Employee employee)
        {
            employee.ProjectId = new Guid();
            await Http.PutAsJsonAsync($"/api/Employees/{employee.Id}", employee);

        }

        private async void SaveChanges()
        {

            foreach(var ticket in tickets)
            {
                await Http.PutAsJsonAsync($"/api/Tickets/{ticket.Id}", ticket);
            }

        }


    

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HttpClient Http { get; set; }
    }
}
#pragma warning restore 1591
